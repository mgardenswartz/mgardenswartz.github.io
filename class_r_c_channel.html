<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>homework-4: RCChannel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">homework-4
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_r_c_channel-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">RCChannel Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a303b5a203933d5dc42473c1990968a94" id="r_a303b5a203933d5dc42473c1990968a94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a303b5a203933d5dc42473c1990968a94">RCChannel</a> (TIM_HandleTypeDef *timer_handle, uint32_t timer_channel, int32_t RC_signal_period_us, uint32_t CPU_clock_speed_MHz, int32_t full_reverse_us_width, int32_t neutral_us_width, int32_t full_forward_us_width, int32_t rescale_forward_magnitude, int32_t rescale_reverse_magnitude)</td></tr>
<tr class="memdesc:a303b5a203933d5dc42473c1990968a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an <a class="el" href="class_r_c_channel.html">RCChannel</a> object.  <br /></td></tr>
<tr class="separator:a303b5a203933d5dc42473c1990968a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a9ce6890339267f4d3c56767649ed3" id="r_a23a9ce6890339267f4d3c56767649ed3"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23a9ce6890339267f4d3c56767649ed3">~RCChannel</a> ()</td></tr>
<tr class="memdesc:a23a9ce6890339267f4d3c56767649ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the <a class="el" href="class_r_c_channel.html">RCChannel</a> class.  <br /></td></tr>
<tr class="separator:a23a9ce6890339267f4d3c56767649ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436572f19781a608c70666bdca927b1c" id="r_a436572f19781a608c70666bdca927b1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a436572f19781a608c70666bdca927b1c">callback</a> ()</td></tr>
<tr class="memdesc:a436572f19781a608c70666bdca927b1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put this into HAL_TIM_IC_CaptureCallback() for the associated timer and channel.  <br /></td></tr>
<tr class="separator:a436572f19781a608c70666bdca927b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af373af6d1997b6ff5abc323d618621e9" id="r_af373af6d1997b6ff5abc323d618621e9"><td class="memItemLeft" align="right" valign="top"><a id="af373af6d1997b6ff5abc323d618621e9" name="af373af6d1997b6ff5abc323d618621e9"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>first_value</b> = 0</td></tr>
<tr class="separator:af373af6d1997b6ff5abc323d618621e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec262c3fe8eda84c84261ffb6cc0d051" id="r_aec262c3fe8eda84c84261ffb6cc0d051"><td class="memItemLeft" align="right" valign="top"><a id="aec262c3fe8eda84c84261ffb6cc0d051" name="aec262c3fe8eda84c84261ffb6cc0d051"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>second_value</b> = 0</td></tr>
<tr class="separator:aec262c3fe8eda84c84261ffb6cc0d051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa428ef4cdc239cd3b884621958c3e43e" id="r_aa428ef4cdc239cd3b884621958c3e43e"><td class="memItemLeft" align="right" valign="top"><a id="aa428ef4cdc239cd3b884621958c3e43e" name="aa428ef4cdc239cd3b884621958c3e43e"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>difference</b> = 0</td></tr>
<tr class="separator:aa428ef4cdc239cd3b884621958c3e43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b69eb7854e686a2ab40be5020657335" id="r_a7b69eb7854e686a2ab40be5020657335"><td class="memItemLeft" align="right" valign="top"><a id="a7b69eb7854e686a2ab40be5020657335" name="a7b69eb7854e686a2ab40be5020657335"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>us_width</b> = 0</td></tr>
<tr class="separator:a7b69eb7854e686a2ab40be5020657335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23e4270cff28be86fa7771409c6907c" id="r_ae23e4270cff28be86fa7771409c6907c"><td class="memItemLeft" align="right" valign="top"><a id="ae23e4270cff28be86fa7771409c6907c" name="ae23e4270cff28be86fa7771409c6907c"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>value</b> = 0</td></tr>
<tr class="separator:ae23e4270cff28be86fa7771409c6907c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345dc2d7d273961289c8bc35f62d831a" id="r_a345dc2d7d273961289c8bc35f62d831a"><td class="memItemLeft" align="right" valign="top"><a id="a345dc2d7d273961289c8bc35f62d831a" name="a345dc2d7d273961289c8bc35f62d831a"></a>
TIM_HandleTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><b>timer_handle</b></td></tr>
<tr class="separator:a345dc2d7d273961289c8bc35f62d831a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7708d41cd20b4c488ea5769384007106" id="r_a7708d41cd20b4c488ea5769384007106"><td class="memItemLeft" align="right" valign="top"><a id="a7708d41cd20b4c488ea5769384007106" name="a7708d41cd20b4c488ea5769384007106"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>timer_channel</b></td></tr>
<tr class="separator:a7708d41cd20b4c488ea5769384007106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048a3fb7c1af93345c72f570967f5a24" id="r_a048a3fb7c1af93345c72f570967f5a24"><td class="memItemLeft" align="right" valign="top"><a id="a048a3fb7c1af93345c72f570967f5a24" name="a048a3fb7c1af93345c72f570967f5a24"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>RC_signal_period_us</b></td></tr>
<tr class="separator:a048a3fb7c1af93345c72f570967f5a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9169adf8abd8d2a5c26fd87ac751c17b" id="r_a9169adf8abd8d2a5c26fd87ac751c17b"><td class="memItemLeft" align="right" valign="top"><a id="a9169adf8abd8d2a5c26fd87ac751c17b" name="a9169adf8abd8d2a5c26fd87ac751c17b"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>CPU_clock_speed_MHz</b></td></tr>
<tr class="separator:a9169adf8abd8d2a5c26fd87ac751c17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873b1be22843ef9ab9f0d7d33ae4ca07" id="r_a873b1be22843ef9ab9f0d7d33ae4ca07"><td class="memItemLeft" align="right" valign="top"><a id="a873b1be22843ef9ab9f0d7d33ae4ca07" name="a873b1be22843ef9ab9f0d7d33ae4ca07"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>full_reverse_us_width</b></td></tr>
<tr class="separator:a873b1be22843ef9ab9f0d7d33ae4ca07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07b254e35e951743707c6815574c5d5" id="r_aa07b254e35e951743707c6815574c5d5"><td class="memItemLeft" align="right" valign="top"><a id="aa07b254e35e951743707c6815574c5d5" name="aa07b254e35e951743707c6815574c5d5"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>neutral_us_width</b></td></tr>
<tr class="separator:aa07b254e35e951743707c6815574c5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28169e920201e345276f644f21e42a6" id="r_ae28169e920201e345276f644f21e42a6"><td class="memItemLeft" align="right" valign="top"><a id="ae28169e920201e345276f644f21e42a6" name="ae28169e920201e345276f644f21e42a6"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>full_forward_us_width</b></td></tr>
<tr class="separator:ae28169e920201e345276f644f21e42a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f58c015f46454f851e81b1fa2ecb9a" id="r_ad6f58c015f46454f851e81b1fa2ecb9a"><td class="memItemLeft" align="right" valign="top"><a id="ad6f58c015f46454f851e81b1fa2ecb9a" name="ad6f58c015f46454f851e81b1fa2ecb9a"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>rescale_forward_magnitude</b></td></tr>
<tr class="separator:ad6f58c015f46454f851e81b1fa2ecb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8aad567065cb12afa5225476aeb05fc" id="r_ae8aad567065cb12afa5225476aeb05fc"><td class="memItemLeft" align="right" valign="top"><a id="ae8aad567065cb12afa5225476aeb05fc" name="ae8aad567065cb12afa5225476aeb05fc"></a>
int32_t&#160;</td><td class="memItemRight" valign="bottom"><b>rescale_reverse_magnitude</b></td></tr>
<tr class="separator:ae8aad567065cb12afa5225476aeb05fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a303b5a203933d5dc42473c1990968a94" name="a303b5a203933d5dc42473c1990968a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a303b5a203933d5dc42473c1990968a94">&#9670;&#160;</a></span>RCChannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RCChannel::RCChannel </td>
          <td>(</td>
          <td class="paramtype">TIM_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>timer_handle</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timer_channel</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>RC_signal_period_us</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>CPU_clock_speed_MHz</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>full_reverse_us_width</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>neutral_us_width</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>full_forward_us_width</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>rescale_forward_magnitude</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>rescale_reverse_magnitude</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an <a class="el" href="class_r_c_channel.html">RCChannel</a> object. </p>
<dl class="section note"><dt>Note</dt><dd>This constructor initializes the <a class="el" href="class_r_c_channel.html">RCChannel</a> object with the specified parameters. It also starts the first interrupt and sets the minuend depending on the timer instance. It calculates the scaling factor and initializes the forward and reverse ranges.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_handle</td><td>Pointer to the TIM_HandleTypeDef structure for pin being read from. </td></tr>
    <tr><td class="paramname">timer_channel</td><td>Timer channel number. </td></tr>
    <tr><td class="paramname">RC_signal_period_us</td><td>Period of the RC signal in microseconds. 17.5 ms for the DumboRC X6B receiver. </td></tr>
    <tr><td class="paramname">CPU_clock_speed_MHz</td><td>CPU clock speed in MHz. 96 MHz for the STM32F411CUE6. </td></tr>
    <tr><td class="paramname">full_reverse_us_width</td><td>Width of the full reverse signal in microseconds. </td></tr>
    <tr><td class="paramname">neutral_us_width</td><td>Width of the neutral signal in microseconds. </td></tr>
    <tr><td class="paramname">full_forward_us_width</td><td>Width of the full forward signal in microseconds. </td></tr>
    <tr><td class="paramname">rescale_forward_magnitude</td><td>Maximum value for rescaling the forward signal. Overridden if fed into <a class="el" href="class_remote_control_control.html">RemoteControlControl</a>. </td></tr>
    <tr><td class="paramname">rescale_reverse_magnitude</td><td>Minimum value for rescaling the reverse signal. Overridden if fed into <a class="el" href="class_remote_control_control.html">RemoteControlControl</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a23a9ce6890339267f4d3c56767649ed3" name="a23a9ce6890339267f4d3c56767649ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23a9ce6890339267f4d3c56767649ed3">&#9670;&#160;</a></span>~RCChannel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RCChannel::~RCChannel </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor for the <a class="el" href="class_r_c_channel.html">RCChannel</a> class. </p>
<p>This destructor stops the interrupts for the <a class="el" href="class_r_c_channel.html">RCChannel</a> object. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a436572f19781a608c70666bdca927b1c" name="a436572f19781a608c70666bdca927b1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a436572f19781a608c70666bdca927b1c">&#9670;&#160;</a></span>callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RCChannel::callback </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put this into HAL_TIM_IC_CaptureCallback() for the associated timer and channel. </p>
<p>This function is called when the signal on the RC reads a rising or falling edge. It calculates the width of the RC signal, rescales it based on the forward and reverse ranges, and caps the value if necessary.</p>
<dl class="section note"><dt>Note</dt><dd>This function assumes that the timer handle and channel have been properly initialized. Please set the associated timer channel to input capture mode, direct. Leave the auto-reload value as large as possible. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/Max/OneDrive - Cal Poly/Documents/5 Hobbies/1 Coding/Mechatronics Codebases/ME 507 Codebase/Homework 4/<a class="el" href="_r_c_channel_8h_source.html">RCChannel.h</a></li>
<li>C:/Users/Max/OneDrive - Cal Poly/Documents/5 Hobbies/1 Coding/Mechatronics Codebases/ME 507 Codebase/Homework 4/<a class="el" href="_r_c_channel_8cpp.html">RCChannel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
